(()=>{"use strict";var e,t,i,s,n={767:(e,t,i)=>{i.d(t,{b:()=>s});const s=(e,t,i,s,n,o=5,r=!1,a=!0)=>{e.save(),e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+s-o,i),e.quadraticCurveTo(t+s,i,t+s,i+o),e.lineTo(t+s,i+n-o),e.quadraticCurveTo(t+s,i+n,t+s-o,i+n),e.lineTo(t+o,i+n),e.quadraticCurveTo(t,i+n,t,i+n-o),e.lineTo(t,i+o),e.quadraticCurveTo(t,i,t+o,i),e.closePath(),r&&e.fill(),a&&e.stroke(),e.restore()}},785:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(639);class n{constructor(e,t,i,s,n){this.stateStack=e,this.context=t,this.timer=i,this.width=s,this.height=n,this.lastTime=0}start(){this.gameLoop()}gameLoop(e=0){const t=(e-this.lastTime)/1e3;this.update(t),this.lastTime=e,requestAnimationFrame((e=>this.gameLoop(e)))}update(e){this.timer.update(e),this.stateStack.update(e),this.render()}render(){this.context.fillStyle=s.Z.MapBackground,this.context.fillRect(0,0,this.width,this.height),this.stateStack.render()}}},241:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(194),n=i(958);class o{static loadPreviousRecords(){const e=JSON.parse(localStorage.getItem(s.Z.PreviousRecords))??[];if(0===e.length){for(let t=n.Ui;t>0;t--)e.push({correctCountries:0,time:0});localStorage.setItem(s.Z.PreviousRecords,JSON.stringify(e))}return e}static addPreviousRecord(e,t){let i=o.loadPreviousRecords();i.push({correctCountries:e,time:t}),i=i.sort(((e,t)=>t.correctCountries-e.correctCountries)),i=i.slice(0,n.Ui),localStorage.setItem(s.Z.PreviousRecords,JSON.stringify(i))}}},378:(e,t,i)=>{i.d(t,{Z:()=>s});class s{constructor(e,t=0,i=0,s,n,o=""){this.graphic=e,this.x=t,this.y=i,this.width=s,this.height=n,this.name=o}render(e,t,i={x:1,y:1}){this.graphic.context.drawImage(this.graphic.image,this.x,this.y,this.width,this.height,e,t,this.width*i.x,this.height*i.y)}static generateSpritesFromSpriteSheet(e,t,i){const n=[],o=e.width/t,r=e.height/i;for(let a=0;a<r;a++)for(let r=0;r<o;r++)n.push(new s(e,r*t,a*i,t,i));return n}}},313:(e,t,i)=>{i.d(t,{Z:()=>s});class s{enter(e){}exit(){}update(e){}render(){}}},50:(e,t,i)=>{i.d(t,{Z:()=>s}),i(348);class s{static AMOUNT=5;constructor(){this.tasks=[]}update(e){this.updateTasks(e),this.removeFinishedTasks()}addTask(e,t,i=0,s=(()=>{})){const o=new n(e,t,i,s);return this.tasks.push(o),o}updateTasks(e){this.tasks.forEach((t=>{t.update(e)}))}removeFinishedTasks(){this.tasks=this.tasks.filter((e=>!e.isDone))}clear(){this.tasks=[]}tween(e,t,i,s,n=(()=>{})){const o=Object.assign({},e);this.addTask((n=>{t.forEach(((t,r)=>{const a=i[r]-e[t]>0?1:-1,l=o[t],h=i[r],u=l+n/s*(h-l);e[t]=1===a?Math.min(h,u):Math.max(h,u)}))}),0,s,n)}async tweenAsync(e,t,i,s){return new Promise((n=>{this.tween(e,t,i,s,n)}))}wait(e,t=(()=>{})){return this.addTask((()=>{}),0,e,t)}async waitAsync(e){return new Promise((t=>{this.addTask((()=>{}),0,e,t)}))}}class n{constructor(e,t,i=0,s=(()=>{})){this.action=e,this.interval=t,this.intervalTimer=0,this.totalTime=0,this.duration=i,this.callback=s,this.isDone=!1}clear(){this.isDone=!0}update(e){this.intervalTimer+=e,this.totalTime+=e,0===this.interval?this.action(this.totalTime):this.intervalTimer>=this.interval&&(this.intervalTimer=0,this.action(e)),0!==this.duration&&this.totalTime>=this.duration&&(this.callback(),this.isDone=!0)}}},38:(e,t,i)=>{i.d(t,{Z:()=>s});class s{constructor(e=0,t=0){this.x=e,this.y=t}set(e,t){this.x=e,this.y=t}add(e,t=1){this.x+=e.x*t,this.y+=e.y*t}}},131:(e,t,i)=>{i.d(t,{Z:()=>s});const s={EuropeBackground:"europe-background"}},280:()=>{},639:(e,t,i)=>{i.d(t,{Z:()=>s});const s={MapBackground:"#99CCFF",Blue:"#0000F6",Green:"#00F700",Red:"#F70000",Black:"black",Chartreuse:"chartreuse",Crimson:"crimson",DodgerBlue:"dodgerblue",Gold:"gold",Grey:"rgb(100, 110, 150)",White:"white",Yellow:"#FFD700",UnselectedOption:"black",TextShadow:"rgb(124,124,124)"}},831:(e,t,i)=>{i.d(t,{Z:()=>s});const s={Ã…landIslands:"Ã¥land islands",Albania:"albania",Algeria:"algeria",Andorra:"andorra",Armenia:"armenia",Austria:"austria",Azerbaijan:"azerbaijan",Belarus:"belarus",Belgium:"belgium",BosniaAndHerzegovina:"bosnia and herzegovina",Bulgaria:"bulgaria",Croatia:"croatia",Cyprus:"cyprus",CzechRepublic:"czech republic",Denmark:"denmark",Estonia:"estonia",FaroeIslands:"faroe islands",Finland:"finland",France:"france",Georgia:"georgia",Germany:"germany",Greece:"greece",Hungary:"hungary",Iceland:"iceland",Iran:"iran",Iraq:"iraq",Ireland:"ireland",Israel:"israel",Italy:"italy",Jordan:"jordan",Kazakhstan:"kazakhstan",Kosovo:"kosovo",Latvia:"latvia",Lebanon:"lebanon",Liechtenstein:"liechtenstein",Lithuania:"lithuania",Luxembourg:"luxembourg",Moldova:"moldova",Montenegro:"montenegro",Morocco:"morocco",Netherlands:"netherlands",NorthMacedonia:"north macedonia",Norway:"norway",Palestine:"palestine",Poland:"poland",Portugal:"portugal",Romania:"romania",Russia:"russia",SaudiArabia:"saudi arabia",Serbia:"serbia",Slovakia:"slovakia",Slovenia:"slovenia",Spain:"spain",Sweden:"sweden",Switzerland:"switzerland",Syria:"syria",Tunisia:"tunisia",Turkey:"turkey",Ukraine:"ukraine",UnitedKingdom:"united kingdom"}},989:(e,t,i)=>{i.d(t,{Z:()=>s});const s={Joystix:"Joystix"}},408:()=>{},574:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(831);const n=[{CountryName:s.Z["Ã…landIslands"],Difficulty:{Medium:[s.Z.Finland,s.Z.Sweden,s.Z.Norway,s.Z.Latvia]}},{CountryName:s.Z.Albania,Difficulty:{Medium:[s.Z.Kosovo,s.Z.Montenegro,s.Z.Bulgaria,s.Z.BosniaAndHerzegovina]}},{CountryName:s.Z.Algeria,Difficulty:{Medium:[s.Z.Morocco,s.Z.Spain,s.Z.Italy,s.Z.Portugal]}},{CountryName:s.Z.Andorra,Difficulty:{Medium:[s.Z.Liechtenstein,s.Z.Spain,s.Z.Italy,s.Z.Luxembourg]}},{CountryName:s.Z.Armenia,Difficulty:{Medium:[s.Z.Georgia,s.Z.Turkey,s.Z.Syria,s.Z.Kazakhstan]}},{CountryName:s.Z.Austria,Difficulty:{Medium:[s.Z.Germany,s.Z.France,s.Z.Slovenia,s.Z.Poland]}},{CountryName:s.Z.Azerbaijan,Difficulty:{Medium:[s.Z.Turkey,s.Z.Armenia,s.Z.Kazakhstan,s.Z.Syria]}},{CountryName:s.Z.Belarus,Difficulty:{Medium:[s.Z.Russia,s.Z.Poland,s.Z.Moldova,s.Z.Romania]}},{CountryName:s.Z.Belgium,Difficulty:{Medium:[s.Z.Netherlands,s.Z.Liechtenstein,s.Z.UnitedKingdom,s.Z.Denmark]}},{CountryName:s.Z.BosniaAndHerzegovina,Difficulty:{Medium:[s.Z.Croatia,s.Z.Albania,s.Z.Hungary,s.Z.Kosovo]}},{CountryName:s.Z.Bulgaria,Difficulty:{Medium:[s.Z.Romania,s.Z.Turkey,s.Z.Montenegro,s.Z.Moldova]}},{CountryName:s.Z.Croatia,Difficulty:{Medium:[s.Z.Serbia,s.Z.Slovenia,s.Z.Kosovo,s.Z.Italy]}},{CountryName:s.Z.Cyprus,Difficulty:{Medium:[s.Z.Jordan,s.Z.Greece,s.Z.Lebanon,s.Z.Turkey]}},{CountryName:s.Z.CzechRepublic,Difficulty:{Medium:[s.Z.Austria,s.Z.Croatia,s.Z.Hungary,s.Z.Luxembourg]}},{CountryName:s.Z.Denmark,Difficulty:{Medium:[s.Z.Sweden,s.Z.Finland,s.Z.Netherlands,s.Z.FaroeIslands]}},{CountryName:s.Z.Estonia,Difficulty:{Medium:[s.Z.Lithuania,s.Z.Russia,s.Z.Belarus,s.Z["Ã…landIslands"]]}},{CountryName:s.Z.FaroeIslands,Difficulty:{Medium:[s.Z.Iceland,s.Z["Ã…landIslands"],s.Z.Norway,s.Z.Denmark]}},{CountryName:s.Z.Finland,Difficulty:{Medium:[s.Z.Sweden,s.Z.Russia,s.Z.Latvia,s.Z["Ã…landIslands"]]}},{CountryName:s.Z.France,Difficulty:{Medium:[s.Z.UnitedKingdom,s.Z.Spain,s.Z.Germany,s.Z.Austria]}},{CountryName:s.Z.Georgia,Difficulty:{Medium:[s.Z.Azerbaijan,s.Z.Turkey,s.Z.Iraq,s.Z.Ukraine]}},{CountryName:s.Z.Germany,Difficulty:{Medium:[s.Z.France,s.Z.Spain,s.Z.Denmark,s.Z.Switzerland]}},{CountryName:s.Z.Greece,Difficulty:{Medium:[s.Z.Turkey,s.Z.NorthMacedonia,s.Z.Italy,s.Z.Albania]}},{CountryName:s.Z.Hungary,Difficulty:{Medium:[s.Z.Austria,s.Z.CzechRepublic,s.Z.BosniaAndHerzegovina,s.Z.Slovakia]}},{CountryName:s.Z.Iceland,Difficulty:{Medium:[s.Z.FaroeIslands,s.Z.UnitedKingdom,s.Z.Denmark,s.Z.Norway]}},{CountryName:s.Z.Iran,Difficulty:{Medium:[s.Z.Iraq,s.Z.Azerbaijan,s.Z.Georgia,s.Z.Russia]}},{CountryName:s.Z.Iraq,Difficulty:{Medium:[s.Z.Iran,s.Z.Azerbaijan,s.Z.SaudiArabia,s.Z.Syria]}},{CountryName:s.Z.Ireland,Difficulty:{Medium:[s.Z.FaroeIslands,s.Z.Iceland,s.Z.UnitedKingdom,s.Z.France]}},{CountryName:s.Z.Israel,Difficulty:{Medium:[s.Z.Palestine,s.Z.Lebanon,s.Z.Cyprus,s.Z.SaudiArabia]}},{CountryName:s.Z.Italy,Difficulty:{Medium:[s.Z.Greece,s.Z.Croatia,s.Z.France,s.Z.Austria]}},{CountryName:s.Z.Jordan,Difficulty:{Medium:[s.Z.Israel,s.Z.Lebanon,s.Z.Iran,s.Z.SaudiArabia]}},{CountryName:s.Z.Kazakhstan,Difficulty:{Medium:[s.Z.Russia,s.Z.Azerbaijan,s.Z.Iran,s.Z.Georgia]}},{CountryName:s.Z.Kosovo,Difficulty:{Medium:[s.Z.NorthMacedonia,s.Z.Montenegro,s.Z.BosniaAndHerzegovina,s.Z.Bulgaria]}},{CountryName:s.Z.Latvia,Difficulty:{Medium:[s.Z.Lithuania,s.Z.Finland,s.Z.Belarus,s.Z.Moldova]}},{CountryName:s.Z.Lebanon,Difficulty:{Medium:[s.Z.Israel,s.Z.Jordan,s.Z.Iraq,s.Z.Cyprus]}},{CountryName:s.Z.Liechtenstein,Difficulty:{Medium:[s.Z.Luxembourg,s.Z.Andorra,s.Z.Switzerland,s.Z.Slovenia]}},{CountryName:s.Z.Lithuania,Difficulty:{Medium:[s.Z.Latvia,s.Z.Finland,s.Z.Belarus,s.Z.Estonia]}},{CountryName:s.Z.Luxembourg,Difficulty:{Medium:[s.Z.Liechtenstein,s.Z.Andorra,s.Z.Belgium,s.Z.Germany]}},{CountryName:s.Z.Moldova,Difficulty:{Medium:[s.Z.Ukraine,s.Z.Romania,s.Z.Belarus,s.Z.Slovakia]}},{CountryName:s.Z.Montenegro,Difficulty:{Medium:[s.Z.Kosovo,s.Z.NorthMacedonia,s.Z.Bulgaria,s.Z.Croatia]}},{CountryName:s.Z.Morocco,Difficulty:{Medium:[s.Z.Algeria,s.Z.Tunisia,s.Z.Portugal,s.Z.Cyprus]}},{CountryName:s.Z.Netherlands,Difficulty:{Medium:[s.Z.Belgium,s.Z.Luxembourg,s.Z.Denmark,s.Z.Switzerland]}},{CountryName:s.Z.NorthMacedonia,Difficulty:{Medium:[s.Z.Kosovo,s.Z.Montenegro,s.Z.Bulgaria,s.Z.BosniaAndHerzegovina]}},{CountryName:s.Z.Norway,Difficulty:{Medium:[s.Z.Sweden,s.Z.Denmark,s.Z.Netherlands,s.Z.Estonia]}},{CountryName:s.Z.Palestine,Difficulty:{Medium:[s.Z.Israel,s.Z.Lebanon,s.Z.SaudiArabia,s.Z.Cyprus]}},{CountryName:s.Z.Poland,Difficulty:{Medium:[s.Z.Germany,s.Z.Romania,s.Z.Lithuania,s.Z.Sweden]}},{CountryName:s.Z.Portugal,Difficulty:{Medium:[s.Z.Spain,s.Z.France,s.Z.Morocco,s.Z.Andorra]}},{CountryName:s.Z.Romania,Difficulty:{Medium:[s.Z.Bulgaria,s.Z.Hungary,s.Z.Moldova,s.Z.Turkey]}},{CountryName:s.Z.Russia,Difficulty:{Medium:[s.Z.Kazakhstan,s.Z.Finland,s.Z.Belarus,s.Z.Turkey]}},{CountryName:s.Z.SaudiArabia,Difficulty:{Medium:[s.Z.Iraq,s.Z.Jordan,s.Z.Syria,s.Z.Armenia]}},{CountryName:s.Z.Serbia,Difficulty:{Medium:[s.Z.BosniaAndHerzegovina,s.Z.Kosovo,s.Z.Albania,s.Z.Slovakia]}},{CountryName:s.Z.Slovakia,Difficulty:{Medium:[s.Z.Lithuania,s.Z.Austria,s.Z.CzechRepublic,s.Z.Slovenia]}},{CountryName:s.Z.Slovenia,Difficulty:{Medium:[s.Z.Switzerland,s.Z.Croatia,s.Z.CzechRepublic,s.Z.Slovakia]}},{CountryName:s.Z.Spain,Difficulty:{Medium:[s.Z.France,s.Z.Italy,s.Z.Portugal,s.Z.Switzerland]}},{CountryName:s.Z.Sweden,Difficulty:{Medium:[s.Z.Norway,s.Z.Denmark,s.Z.Estonia,s.Z.Iceland]}},{CountryName:s.Z.Switzerland,Difficulty:{Medium:[s.Z.France,s.Z.Austria,s.Z.Belgium,s.Z.Slovenia]}},{CountryName:s.Z.Syria,Difficulty:{Medium:[s.Z.Turkey,s.Z.Lebanon,s.Z.Iran,s.Z.SaudiArabia]}},{CountryName:s.Z.Tunisia,Difficulty:{Medium:[s.Z.Algeria,s.Z.Italy,s.Z.Morocco,s.Z.France]}},{CountryName:s.Z.Turkey,Difficulty:{Medium:[s.Z.Iraq,s.Z.Cyprus,s.Z.Bulgaria,s.Z.Georgia]}},{CountryName:s.Z.Ukraine,Difficulty:{Medium:[s.Z.Russia,s.Z.Belarus,s.Z.Poland,s.Z.Romania,s.Z.Moldova]}},{CountryName:s.Z.UnitedKingdom,Difficulty:{Medium:[s.Z.Ireland,s.Z.Iceland,s.Z.France,s.Z.Netherlands]}}]},127:(e,t,i)=>{i.d(t,{Z:()=>s});const s={MenuSelection:"menu_selection",CorrectSelection:"correct-selection",IncorrectSelection:"incorrect-selection",GameWin:"game-win",GameLose:"game-lose",HowToPlaySelect:"how-to-play-select"}},348:()=>{},287:(e,t,i)=>{i.d(t,{Z:()=>s});const s={Selected:0,NotSelected:1}},194:(e,t,i)=>{i.d(t,{Z:()=>s});const s={PlayGame:"Play Game",PlayAgain:"Play Again",PreviousRecords:"Previous Records",MainMenu:"Main Menu"}},958:(e,t,i)=>{i.d(t,{ke:()=>u,lf:()=>h,vj:()=>l,j3:()=>d,gf:()=>p,Ui:()=>m,ew:()=>c,UD:()=>y,JQ:()=>r,Do:()=>a,Rq:()=>f,Wc:()=>g,XP:()=>Z,jX:()=>S,OO:()=>x,HT:()=>T});class s{constructor(e,t,i,s){this.image=new Image(t,i),this.image.src=e,this.width=t,this.height=i,this.context=s}render(e,t,i=this.width,s=this.height){this.context.drawImage(this.image,e,t,i,s)}}class n{constructor(e,t=1,i,s=!1){this.source=e,this.size=t,this.volume=i,this.loop=s,this.pool=[],this.currentSound=0,this.initializePool()}initializePool(){for(let e=0;e<this.size;e++){const e=new Audio(this.source);e.volume=this.volume,e.loop=this.loop,this.pool.push(e)}}play(){(0===this.pool[this.currentSound].currentTime||this.pool[this.currentSound].ended||this.pool[this.currentSound].paused)&&this.pool[this.currentSound].play(),this.currentSound=(this.currentSound+1)%this.size}pause(){this.pool[this.currentSound].pause()}isPaused(){return this.pool[this.currentSound].paused}stop(){this.pause(),this.pool[this.currentSound].currentTime=0}}var o=i(50);const r=document.createElement("canvas"),a=r.getContext("2d")||new CanvasRenderingContext2D,l=1750,h=1024,u=1280,c={x:l-1280,y:0},d=c.x,p=0,y="-",m=10,Z={},g=new class{constructor(e){this.context=e,this.images={}}load(e){e.forEach((e=>{this.images[e.name]=new s(e.path,e.width,e.height,this.context)}))}get(e){return this.images[e]}render(e,t,i,s=null,n=null){const o=this.get(e);o.render(t,i,s??o.width,n??o.height)}}(a),f=new class{constructor(){this.fonts={}}load(e){e.forEach((e=>{const t=new FontFace(e.name,`url(${e.path})`);this.fonts[e.name]=t,t.load().then((e=>{document.fonts.add(e)}))}))}get(e){return this.fonts[e]}},x=(new class{constructor(){this.states={}}add(e,t){t.name=e,this.states[e]=t,this.currentState=t}change(e,t){this.currentState.exit(),this.currentState=this.states[e],this.currentState.enter(t)}update(e){this.currentState.update(e)}render(e){this.currentState.render(e)}},new class{constructor(){this.states=[]}update(e){this.top().update(e)}render(e){this.states.forEach((t=>t.render(e)))}push(e){this.states.push(e),this.top().enter()}pop(){return this.top().exit(),this.states.splice(this.states.length-1,1)[0]}popAllUntilInstanceOf(e){for(;;){if(this.top()instanceof e)return;this.pop()}}top(){return this.states[this.states.length-1]}clear(){this.states=[]}}),T=new o.Z,S=new class{constructor(){this.sounds={}}load(e){e.forEach((e=>{this.sounds[e.name]=new n(e.path,e.size,e.volume,e.loop)}))}get(e){return this.sounds[e]}play(e){this.get(e).play()}pause(e){this.get(e).pause()}stop(e){this.get(e).stop()}}},225:(e,t,i)=>{i.a(e,(async(e,t)=>{try{i(408);var s=i(785),n=i(958),o=(i(660),i(729),i(976),i(459));i(745),i(506),i(358),n.JQ.width=n.vj,n.JQ.height=n.lf,n.JQ.setAttribute("tabindex","1"),document.body.appendChild(n.JQ);const{images:e,fonts:r,sounds:a}=await fetch("./src/config.json").then((e=>e.json()));n.Wc.load(e),n.Rq.load(r),n.jX.load(a),n.OO.push(new o.Z),n.JQ.addEventListener("keydown",(e=>{n.XP[e.key]=!0})),n.JQ.addEventListener("keyup",(e=>{n.XP[e.key]=!1})),new s.Z(n.OO,n.Do,n.HT,n.JQ.width,n.JQ.height).start(),n.JQ.focus(),t()}catch(e){t(e)}}),1)},693:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(958),n=i(378);class o{constructor(e){this.image=o.generateSprite(e)}render(){this.image.render(s.j3,s.gf)}static generateSprite(e){return new n.Z(s.Wc.get(e),0,s.gf,s.ke,s.lf)}}},954:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(958),n=i(378);class o{constructor(e){this.country=o.generateSprite(e),this.name=this.getCountryName(e)}getCountryName(e){return e.split(s.UD)[0]}render(){this.country.render(s.j3,s.gf)}static generateSprite(e){return new n.Z(s.Wc.get(e),0,s.gf,s.vj,s.lf,e)}}},133:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(954);class n{static createInstance(e){return new s.Z(e)}}},506:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(313),n=i(50),o=i(639),r=i(127),a=i(958),l=(i(954),i(745)),h=i(605),u=i(660);class c extends s.Z{constructor(e,t){if(super(),this.countrySelectionState=e,this.playState=this.countrySelectionState.playState,this.countrySelectionState.map.countryToGuess=null,this.countrySelectionState.map.addCorrectCountry(`${t}${a.UD}green`),this.decreaseTimer(),this.playState.resetNumberWrongGuesses(),this.colourCorrectOption(),a.jX.play(r.Z.CorrectSelection),this.playState.didWin())return void this.playState.win();const i={titleText:"Nice job! That was correct!",messageText:"Keep it up! You're killing it!",continueText:"Press 'Enter' to continue...",borderColour:o.Z.Green,panelHeight:11};a.OO.push(new h.Z(this.countrySelectionState,i))}update(e){a.XP.Enter&&(a.XP.Enter=!1,a.OO.popAllUntilInstanceOf(u.Z),a.OO.push(new l.Z(this.playState,this.countrySelectionState.map))),this.countrySelectionState.update(e)}render(){}decreaseTimer(){this.playState.timer-=n.Z.AMOUNT,this.playState.timer<=0&&(this.playState.timer=0)}colourCorrectOption(){this.countrySelectionState.countriesMenu.selection.items[this.countrySelectionState.countriesMenu.selection.currentSelection].borderColour=o.Z.Green,this.countrySelectionState.countriesMenu.selection.items[this.countrySelectionState.countriesMenu.selection.currentSelection].panelColour=o.Z.Green}}},745:(e,t,i)=>{i.d(t,{Z:()=>xe});const s=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;var n=i(313),o=i(639),r=i(831);const a="A small island next to Finland...",l="Rhymes with Romania...",h="In north Africa, it has a 'g' and 'a' in the word...",u="A small country between Spain and France...",c="In the Caucasus, ends with 'ia'...",d="They speak German here...",p="One of the few countries with the last letter of the alphabet in the name...",y="",m="French and Dutch are some of the national languages...",Z="It has a unique name...",g="May or may not end with 'ia'...",f="Has a UNESCO site called Dubrovnik...",x="An island below Turkey...",T="Have you ever heard of Prague?",S="You may be understood if you speak Swedish...",D="It's not Lithuania...",w="The only island colored blue...",C="A Scandinavian country in the north...",v="A big country that might speak ..ench",b="Could it be a state in the USA?",O="Sprechen Sie Deutsch?",M="Ever heard of Mykonos or Santorini?",A="I feel like I could eat right now...",I="A larger island with natural hot springs...",N="I ...",E="I ...",k="It's NOT part of the UK",P="A relatively new country in the bottom right of the map...",F="I really do like canals...",L="This could be someone's name...",z="It has a unique name...",G="SO do you know now?",H="Ends in an 'a'...",B="Non, it's this...",R="A really small country between Switzerland and Austria...",_="Well, it's NOT Latvia",U="You'd be surprised how many people don't about about this country...",j="",X="Has a lot of montains...",$="A lot of the country is desert...",K="Amsterdam is known as one of the most beautiful cities...",W="Well, it's not in the nor...",J="Have you guessed this way before?",Y="",q="The countries flag consists of a white and red horizontal bar...",V="They don't speak Spanish...",Q="Hopefully you know about Bucharest, ......a",ee="The biggest landmass country in the world...",te="Is very famous for their oil...",ie="Used to be part of Yugoslavia, with a capital city of Belgrade...",se="Not Slovenia...",ne="Not Slovakia...",oe="No, I'm not in pain...",re="People confused the gold of the flag with being yellow...",ae="Famous for it's mountains and chocolate...",le="Sadly, war's caused significant damage to this country...",he="Arabic and French are very commonly spoken languages...",ue="This is usually served on Thanksgiving...",ce="Kiev is one of the oldest cities in Europe...",de="Comprised of 4 countries...";i(574);var pe=i(958),ye=i(133),me=i(19),Ze=i(855),ge=i(506),fe=i(358);class xe extends n.Z{static COUNTRY_OPTIONS_COUNT=4;constructor(e,t){super(),this.playState=e,this.map=t,this.hintsTextbox=null,this.hintUsed=!1;const i=this.generateCountyOptions(t);this.countriesMenu=new me.Z(me.Z.COUNTRIES_MENU.x,me.Z.COUNTRIES_MENU.y,me.Z.COUNTRIES_MENU.width,me.Z.COUNTRIES_MENU.height,i)}generateCountyOptions(e){const t=[],i=s(0,this.map.allCountriesKeys.length-1),n=this.map.allCountriesKeys[i];this.map.countryToGuess=this.createGuessCountry(n.CountryName);let o=n.Difficulty.Medium;for(let e=0;e<this.playState.NUMBER_OF_CLOSE_COUNTRIES;e++){const e=s(0,o.length-1),i=o[e];o.splice(e,1),t.push({text:i,onSelect:()=>this.processGuess()})}this.map.allCountriesKeys.splice(i,1);let r=s(0,e.allCountriesKeys.length-1),a=e.allCountriesKeys[r].CountryName;for(;this.containsCountryName(t,a);)r=s(0,e.allCountriesKeys.length-1),a=e.allCountriesKeys[r].CountryName;t.push({text:a,onSelect:()=>this.processGuess()});let l=s(0,e.MAX_COUNTRY_OPTIONS);return t.splice(l,0,{text:n.CountryName,onSelect:()=>this.processGuess()}),t}containsCountryName(e,t){return e.some((e=>e.text===t))}createGuessCountry(e){const t=`${e}${pe.UD}blue`;return this.map.allCountriesKeys=this.map.allCountriesKeys.filter((e=>e!==t)),ye.Z.createInstance(t)}processGuess(){const e=this.countriesMenu.selection.items[this.countriesMenu.selection.currentSelection].text;this.map.isCorrectGuess(e)?pe.OO.push(new ge.Z(this,e)):pe.OO.push(new fe.Z(this,e))}update(e){if(this.playState.update(e),this.map.update(e),this.countriesMenu.update(),this.hintsTextbox?.update(),pe.XP.h&&(pe.XP.h=!1,0!==this.playState.hintsLeft&&null===this.hintsTextbox&&!this.hintUsed)){const e=this.getHintForCountryToGuess();this.hintsTextbox=new Ze.Z(((pe.vj+pe.ew.x)/2-Ze.Z.HINTS_PANEL.width/2)/32,-1,Ze.Z.HINTS_PANEL.width,Ze.Z.HINTS_PANEL.height,e,{isAdvanceable:!1,fontSize:30,borderColour:o.Z.Blue}),this.hintUsed=!0,this.playState.hintsLeft--,pe.HT.tween(this.hintsTextbox.position,["y"],[20],1.25,(()=>{pe.HT.wait(24,(()=>{pe.HT.tween(this.hintsTextbox.position,["y"],[-300],1.25,(()=>this.hintsTextbox=null))}))}))}}getHintForCountryToGuess(){switch(this.map.countryToGuess.name){case r.Z["Ã…landIslands"]:return a;case r.Z.Albania:return l;case r.Z.Algeria:return h;case r.Z.Andorra:return u;case r.Z.Armenia:return c;case r.Z.Austria:return d;case r.Z.Azerbaijan:return p;case r.Z.Belarus:return y;case r.Z.Belgium:return m;case r.Z.BosniaAndHerzegovina:return Z;case r.Z.Bulgaria:return g;case r.Z.Croatia:return f;case r.Z.Cyprus:return x;case r.Z.CzechRepublic:return T;case r.Z.Denmark:return S;case r.Z.Estonia:return D;case r.Z.FaroeIslands:return w;case r.Z.Finland:return C;case r.Z.France:return v;case r.Z.Georgia:return b;case r.Z.Germany:return O;case r.Z.Greece:return M;case r.Z.Hungary:return A;case r.Z.Iceland:return I;case r.Z.Iran:return N;case r.Z.Iraq:return E;case r.Z.Ireland:return k;case r.Z.Israel:return P;case r.Z.Italy:return F;case r.Z.Jordan:return L;case r.Z.Kazakhstan:return z;case r.Z.Kosovo:return G;case r.Z.Latvia:return H;case r.Z.Lebanon:return B;case r.Z.Liechtenstein:return R;case r.Z.Lithuania:return _;case r.Z.Luxembourg:return U;case r.Z.Moldova:return j;case r.Z.Montenegro:return X;case r.Z.Morocco:return $;case r.Z.Netherlands:return K;case r.Z.NorthMacedonia:return W;case r.Z.Norway:return J;case r.Z.Palestine:return Y;case r.Z.Poland:return q;case r.Z.Portugal:return V;case r.Z.Romania:return Q;case r.Z.Russia:return ee;case r.Z.SaudiArabia:return te;case r.Z.Serbia:return ie;case r.Z.Slovakia:return se;case r.Z.Slovenia:return ne;case r.Z.Spain:return oe;case r.Z.Sweden:return re;case r.Z.Switzerland:return ae;case r.Z.Syria:return le;case r.Z.Tunisia:return he;case r.Z.Turkey:return ue;case r.Z.Ukraine:return ce;case r.Z.UnitedKingdom:return de}}render(){this.playState.render(),this.countriesMenu.render(),this.hintsTextbox?.render()}}},729:(e,t,i)=>{i.d(t,{Z:()=>m});var s=i(313),n=i(989),o=i(194),r=i(287),a=i(958),l=i(978),h=i(767),u=i(639),c=i(660),d=i(459),p=i(241),y=i(127);class m extends s.Z{constructor(e,t={}){super(),this.playState=e,this.options=t,this.correctCountries=e.map.correctCountries.length,this.menuOptions=[o.Z.PlayAgain,o.Z.MainMenu],this.currentMenuOption=r.Z.Selected,a.jX.play(y.Z.GameLose),this.titleTextLines=this.getLines(t.titleMessage,a.vj-300),this.messageTextLines=this.getLines(t.messageText??null,a.vj-200)}update(e){this.inTransition||((a.XP.w||a.XP.s)&&(a.XP.w=a.XP.s=!1,this.currentMenuOption=this.currentMenuOption===r.Z.Selected?r.Z.NotSelected:r.Z.Selected,a.jX.play(y.Z.MenuSelection)),a.XP.Enter&&(a.XP.Enter=!1,this.isPreviousRecord()&&p.Z.addPreviousRecord(this.correctCountries,this.playState.timer),this.startTransition()),a.HT.update(e))}render(){a.Do.save(),this.drawDarkBackground(),this.drawTitleText(),this.drawMessageText(),this.drawGameInfo(),this.drawMenu(),this.drawTransitionOverlay(),a.Do.restore()}isPreviousRecord(){return p.Z.loadPreviousRecords().some((e=>this.correctCountries>e.correctCountries))}async startTransition(){this.currentMenuOption===r.Z.Selected?l.Z.fade((()=>{a.OO.clear(),a.OO.push(new c.Z)})):l.Z.fade((()=>{a.OO.clear(),a.OO.push(new d.Z)})),this.inTransition=!0}drawDarkBackground(){a.Do.fillStyle="rgb(0, 0, 0, 0.3)",a.Do.fillRect(0,0,a.vj,a.lf)}drawTransitionOverlay(){a.Do.fillStyle="rgb(255, 255, 255, 0)",a.Do.fillRect(0,0,a.vj,a.lf)}getLines(e,t){const i=e.split("\n"),s=[];return i.forEach((e=>{let i=e.replace(/\t+/g,"").split(" "),n=i[0];a.Do.font=`${this.fontSize}px ${this.fontFamily}`;for(let e=1;e<i.length;e++){let o=i[e];a.Do.measureText(n+" "+o).width<t?n+=" "+o:(s.push(n),n=o)}s.push(n)})),s}drawTitleText(){const e=a.vj/2;a.lf,a.Do.font=`90px ${n.Z.Joystix}`,a.Do.textBaseline="top",a.Do.fillStyle=u.Z.White,this.titleTextLines?.forEach(((t,i)=>{a.Do.fillText(t,e-a.Do.measureText(t).width/2,0===i?50:125*i)}))}drawMessageText(){if(null!==this.options.messageText){const e={x:a.vj/2,y:a.lf/2+190};a.Do.font=`50px ${n.Z.Joystix}`,a.Do.textBaseline="middle",a.Do.fillStyle=u.Z.White,this.messageTextLines?.forEach(((t,i)=>{a.Do.fillText(t,e.x-a.Do.measureText(t).width/2,200+50*i)}))}}drawGameInfo(){const e={x:a.vj/2,y:a.lf/2};a.Do.font=`65px ${n.Z.Joystix}`,a.Do.textBaseline="middle",a.Do.fillStyle=u.Z.White;const t=`Time taken: ${this.playState.timer} seconds`,i=`Correct guesses: ${this.playState.map.correctCountries.length}/${this.playState.map.totalCountriesForMap}`;a.Do.fillText(t,e.x-a.Do.measureText(t).width/2,e.y-75),a.Do.fillText(i,e.x-a.Do.measureText(i).width/2,e.y)}drawMenu(){const e=a.vj/2,t=a.lf/2+190;a.Do.fillStyle="rgb(255, 255, 255, 0.7)",(0,h.b)(a.Do,e-400,t-150+75,800,300,25,!0,!1),this.drawMenuOption(this.menuOptions[0],e-a.Do.measureText(this.menuOptions[0]).width/2,t+30,0),this.drawMenuOption(this.menuOptions[1],e-a.Do.measureText(this.menuOptions[1]).width/2,t+145,1)}drawMenuOption(e,t,i,s){a.Do.save(),a.Do.font=`65px ${n.Z.Joystix}`,this.currentMenuOption===s?a.Do.fillStyle=u.Z.Blue:a.Do.fillStyle=u.Z.UnselectedOption,a.Do.fillText(e,t,i),a.Do.restore()}}},605:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(313),n=i(639),o=i(958),r=i(661);class a extends r.Z{static GUESS_PANEL={x:-5,y:8,width:1150,height:15};constructor(e,t,i,s,o,a={}){super(e,t,i,s,a),this.titleFontSize=a.titleFontSize??r.Z.FONT_SIZE,this.messageFontSize=a.messageFontSize??r.Z.FONT_SIZE,this.fontColour=a.fontColour??n.Z.Black,this.fontFamily=a.fontFamily??r.Z.FONT_FAMILY,this.isClosed=!1,this.titleLines=this.constructTitleLines(o.titleText),this.messageLines=this.constructMessageLines(o.messageText),this.continueLines=this.constructContinueLines(o.continueText)}render(){super.render(),o.Do.save(),this.renderTitleText(),this.renderMessageText(),this.renderContinueText(),o.Do.restore()}renderTitleText(){o.Do.textBaseline="top",o.Do.font=`${this.titleFontSize}px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,this.titleLines?.forEach(((e,t)=>{o.Do.fillText(e,this.position.x+(this.dimensions.x/2-o.Do.measureText(e).width/2),this.position.y+t*this.titleFontSize+this.padding+10)}))}renderMessageText(){o.Do.textBaseline="top",o.Do.font=`${this.messageFontSize}px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,this.messageLines?.forEach(((e,t)=>{o.Do.fillText(e,this.position.x+(this.dimensions.x/2-o.Do.measureText(e).width/2),this.position.y+t*this.titleFontSize+this.padding+200)}))}renderContinueText(){o.Do.textBaseline="top",o.Do.font=`${this.messageFontSize}px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,this.continueLines?.forEach(((e,t)=>{o.Do.fillText(e,this.position.x+(this.dimensions.x/2-o.Do.measureText(e).width/2),this.position.y+this.dimensions.y-50-this.padding)}))}constructTitleLines(e){return this.getLines(e,this.dimensions.x-4*this.padding-25,this.titleFontSize)}constructMessageLines(e){return this.getLines(e,this.dimensions.x-2.5*this.padding,this.messageFontSize)}constructContinueLines(e){return this.getLines(e,this.dimensions.x-2.5*this.padding,this.messageFontSize)}getLines(e,t,i){const s=e.split("\n"),n=[];return s.forEach((e=>{const s=e.replace(/\t+/g,"").split(" ");let r=s[0];o.Do.font=`${i}px ${this.fontFamily}`;for(let e=1;e<s.length;e++){const i=s[e];o.Do.measureText(r+" "+i).width<t?r+=" "+i:(n.push(r),r=i)}n.push(r)})),n}}i(855);class l extends s.Z{constructor(e,t){super(),this.countrySelectionState=e,this.textbox=new a(a.GUESS_PANEL.x,o.lf/2/32-t.panelHeight/2,a.GUESS_PANEL.width,t.panelHeight,{titleText:t.titleText,messageText:t.messageText,continueText:t.continueText,titleText:t.titleText},{titleFontSize:60,messageFontSize:40,borderColour:t.borderColour});let i=(o.vj+o.ew.x)/2-this.textbox.dimensions.x/2;if(t.borderColour===n.Z.Green){const e=150,t=75;o.HT.tween(this.textbox.position,["x"],[i],1.75,(()=>{o.HT.tween(this.textbox.dimensions,["x","y"],[this.textbox.dimensions.x+e,this.textbox.dimensions.y+e],.5,(()=>{o.HT.tween(this.textbox.dimensions,["x","y"],[this.textbox.dimensions.x-e,this.textbox.dimensions.y-e],.5)})),o.HT.tween(this.textbox.position,["x","y"],[this.textbox.position.x-t,this.textbox.position.y-t],.5,(()=>{o.HT.tween(this.textbox.position,["x","y"],[this.textbox.position.x+t,this.textbox.position.y+t],.5)}))}))}else t.borderColour===n.Z.Red&&o.HT.tween(this.textbox.position,["x"],[i],1.75,(()=>{o.HT.tween(this.textbox.position,["x"],[i-100],.45,(()=>{o.HT.tween(this.textbox.position,["x"],[i],.45)}))}))}update(e){o.HT.update(e)}render(){super.render(),this.countrySelectionState.render(),this.textbox?.render()}}},358:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(313),n=i(50),o=i(639),r=i(127),a=i(958),l=(i(954),i(745)),h=i(605),u=i(660);class c extends s.Z{constructor(e,t){if(super(),this.countrySelectionState=e,this.playState=this.countrySelectionState.playState,this.countrySelectionState.map.addIncorrectCountry(`${this.countrySelectionState.map.countryToGuess.name}${a.UD}red`),this.increaseTimer(),this.playState.addWrongGuess(),this.shouldLoseLife()&&this.loseLife(),this.colourIncorrectOption(),this.processColouringCorrectOption(),a.jX.play(r.Z.IncorrectSelection),this.playState.didLose())return void this.playState.lose();const i={titleText:"Oops! That was the wrong country...",messageText:`The correct country was ${this.countrySelectionState.map.countryToGuess.name.charAt(0).toUpperCase()+this.countrySelectionState.map.countryToGuess.name.slice(1)}!\nMaybe next time trying using a hint!`,continueText:"Press 'Enter' to continue...",borderColour:o.Z.Red,panelHeight:15};a.OO.push(new h.Z(this.countrySelectionState,i)),this.countrySelectionState.map.countryToGuess=null}update(e){a.XP.Enter&&(a.XP.Enter=!1,a.OO.popAllUntilInstanceOf(u.Z),a.OO.push(new l.Z(this.playState,this.countrySelectionState.map))),this.countrySelectionState.update(e)}render(){}increaseTimer(){this.playState.timer+=n.Z.AMOUNT}shouldLoseLife(){return this.playState.numberWrongGuessesInARow>=this.playState.NUMBER_TO_LOSE_A_LIFE}loseLife(){this.playState.numberOfLives--,this.playState.numberWrongGuessesInARow=0}colourIncorrectOption(){this.countrySelectionState.countriesMenu.selection.items[this.countrySelectionState.countriesMenu.selection.currentSelection].borderColour=o.Z.Red,this.countrySelectionState.countriesMenu.selection.items[this.countrySelectionState.countriesMenu.selection.currentSelection].panelColour=o.Z.Red}processColouringCorrectOption(){let e=this.getIndexOfCorrectCountry();null!==e&&(this.countrySelectionState.countriesMenu.selection.items[e].borderColour=o.Z.Green)}getIndexOfCorrectCountry(){let e=null;return this.countrySelectionState.countriesMenu.selection.items.forEach(((t,i)=>{if(t.text.toLowerCase()===this.countrySelectionState.map.countryToGuess.name.toLowerCase())return e=i,i})),e}}},660:(e,t,i)=>{i.d(t,{Z:()=>M});var s=i(313),n=i(131),o=(i(280),i(958)),r=i(693),a=(i(954),i(831),i(574)),l=i(133);class h{constructor(){this.allCountriesKeys=a.Z,this.totalCountriesForMap=this.allCountriesKeys.length,this.background=new r.Z(n.Z.EuropeBackground),this.MAX_COUNTRY_OPTIONS=4,this.countryToGuess=null,this.allCountriesOnMap=[],this.correctCountries=[],this.incorrectCountries=[]}addCorrectCountry(e){this.correctCountries.push(l.Z.createInstance(e))}addIncorrectCountry(e){this.incorrectCountries.push(l.Z.createInstance(e))}isCorrectGuess(e){return e===this.countryToGuess.name}update(e){o.HT.update(e)}render(){this.background.render(),this.countryToGuess?.render(),this.allCountriesOnMap.forEach((e=>e.render())),this.correctCountries.forEach((e=>e.render())),this.incorrectCountries.forEach((e=>e.render()))}}i(19);var u=i(661),c=i(745),d=i(855);class p extends s.Z{constructor(e,t=u.Z.BOTTOM_DIALOGUE,i=(()=>{})){super(),this.textbox=new d.Z(t.x,t.y,t.width,t.height,e,{isAdvanceable:!0,fontSize:50}),this.callback=i}update(){this.textbox.update(),this.textbox.isClosed&&(o.OO.pop(),this.callback())}render(){this.textbox.render()}}var y=i(729),m=i(38);const Z="heart-full",g="heart-empty",f="hint-empty",x="hint-full";var T=i(378);class S{constructor(e,t){this.dimensions=e,this.position=t,this.sprites=[],this.currentFrame=0,this.cleanUp=!1,this.renderPriority=0,this.animation=null}update(e){null!==this.animation&&(this.animation.isDone()&&(this.cleanUp=!0),this.animation.update(e))}render(e={x:0,y:0}){const t=this.position.x+e.x,i=this.position.y+e.y;null!==this.animation?this.sprites[this.animation.getCurrentFrame()].render(Math.floor(t),Math.floor(i)):this.sprites[this.currentFrame].render(Math.floor(t),Math.floor(i))}}class D extends S{static WIDTH=760;static HEIGHT=700;constructor(e,t,i){super(t,i),this.sprites=T.Z.generateSpritesFromSpriteSheet(o.Wc.get(e),D.WIDTH,D.HEIGHT),this.currentFrame=0}render(e={x:0,y:0}){const t=this.position.x+e.x,i=this.position.y+e.y;this.sprites[this.currentFrame].render(Math.floor(t),Math.floor(i),{x:.095,y:.1})}}class w extends S{static WIDTH=500;static HEIGHT=500;constructor(e,t,i){super(t,i),this.sprites=T.Z.generateSpritesFromSpriteSheet(o.Wc.get(e),w.WIDTH,w.HEIGHT),this.currentFrame=0}render(e={x:0,y:0}){const t=this.position.x+e.x,i=this.position.y+e.y;this.sprites[this.currentFrame].render(Math.floor(t),Math.floor(i),{x:.25,y:.25})}}var C=i(639);class v extends u.Z{static GAME_STATS={x:.25,y:.1,width:450,height:8.65};constructor(e,t,i,s,n,o,r,a={}){super(e,t,i,s),this.gapHeight=this.dimensions.y/(n.length+1),this.fontSize=a.fontSize??u.Z.FONT_SIZE,this.fontColour=a.fontColour??C.Z.Black,this.fontFamily=a.fontFamily??u.Z.FONT_FAMILY,this.endOfText=!1,this.isClosed=!1,this.textItems=this.initializeTextItems(n),this.hearts=o,this.hints=r,this.playState=a.playState}update(e){this.textItems=this.initializeTextItems(e)}render(e,t){super.render(),this.hearts=e,this.hints=t,o.Do.save(),this.renderTextItems(),this.renderHearts(),this.renderHints(),o.Do.restore()}renderTextItems(){o.Do.textBaseline="top",o.Do.textAlign="center",o.Do.font=`${this.fontSize}px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,this.textItems?.forEach(((e,t)=>{o.Do.fillText(e.text,e.position.x,e.position.y,this.dimensions.x)}))}renderHearts(){this.hearts.forEach((e=>{e.render()}))}renderHints(){this.hints.forEach((e=>{e.render()})),o.Do.textBaseline="top",o.Do.font=`$20px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,o.Do.fillText(`x${this.playState.hintsLeft}`,this.dimensions.x-50,this.position.y+70)}initializeTextItems(e){let t=this.position.y+130;return e.forEach((e=>{const i=(t+this.gapHeight)/1.5;e.position=new m.Z(this.position.x+this.dimensions.x/2,i),t+=this.gapHeight})),e}}class b extends s.Z{constructor(e,t){super(),this.playState=e,this.map=t;const i=this.constructMessage(),s=this.initializeHearts(),n=this.initializeHints();this.gameStats=new v(v.GAME_STATS.x,v.GAME_STATS.y,v.GAME_STATS.width,v.GAME_STATS.height,i,s,n,{fontSize:36,playState:e})}update(e){this.gameStats?.update(this.constructMessage())}render(){this.gameStats?.render(this.initializeHearts(),this.initializeHints())}constructMessage(){const e=[];return e.push({text:`Correct: ${this.map.correctCountries.length}/${this.map.totalCountriesForMap}`}),e.push({text:`Timer:  ${this.playState.timer} secs`}),e}initializeHearts(){const e=[];let t=0;for(let i=0;i<this.playState.STARTING_LIVES-this.playState.numberOfLives;i++)e.push(new D(g,new m.Z(D.WIDTH,D.HEIGHT),new m.Z(v.GAME_STATS.width/13+82.5*t,v.GAME_STATS.y+40))),t++;for(let i=0;i<this.playState.numberOfLives;i++)e.push(new D(Z,new m.Z(D.WIDTH,D.HEIGHT),new m.Z(v.GAME_STATS.width/13+82.5*t,v.GAME_STATS.y+40))),t++;return e}initializeHints(){const e=[];return 0===this.playState.hintsLeft?e.push(new w(f,new m.Z(D.WIDTH,D.HEIGHT),new m.Z(v.GAME_STATS.width-180+0,v.GAME_STATS.y+5))):e.push(new w(x,new m.Z(D.WIDTH,D.HEIGHT),new m.Z(v.GAME_STATS.width-180+0,v.GAME_STATS.y+5))),e}}var O=i(976);class M extends s.Z{constructor(){super(),this.MAX_HINTS=10,this.STARTING_LIVES=3,this.NUMBER_TO_LOSE_A_LIFE=3,this.NUMBER_OF_CLOSE_COUNTRIES=2,this.numberOfLives=this.STARTING_LIVES,this.numberWrongGuessesInARow=0,this.timer=0,this.hintsLeft=this.MAX_HINTS,this.countries=[],this.map=new h}enter(){o.OO.push(new p("Enjoy the game! If you don't know how to play, go back to the main menu and click 'h'!",u.Z.TOP_DIALOGUE,(()=>{this.startTimer(),this.gameStats=new b(this,this.map),o.OO.push(new c.Z(this,this.map))})))}didWin(){return this.map.correctCountries.length===this.map.totalCountriesForMap&&0===this.map.allCountriesKeys.length}didLose(){return 0===this.numberOfLives}update(e){this.didWin()?this.win():this.didLose()&&this.lose(),o.HT.update(e),this.map.update(e),this.gameStats?.update(e)}render(){this.map.render(),this.gameStats?.render()}win(){o.HT.clear(),o.OO.push(new O.Z(this,{titleMessage:"Damn, you guessed every country correctly!",messageText:"Keep on killing it!"}))}lose(){o.HT.clear(),o.OO.push(new y.Z(this,{titleMessage:"Oh no... You tried your best!",messageText:"Don't give up, it's part of the learning process!"}))}startTimer(){o.HT.addTask((()=>this.timer++),4)}addWrongGuess(){this.numberWrongGuessesInARow++}resetNumberWrongGuesses(){this.numberWrongGuessesInARow=0}}},459:(e,t,i)=>{i.d(t,{Z:()=>C});var s=i(313),n=i(194),o=i(287),r=i(958),a=i(767);const l={Ã…landIslands:"Ã¥land islands-green",Albania:"albania-green",Algeria:"algeria-green",Andorra:"andorra-green",Armenia:"armenia-green",Austria:"austria-green",Azerbaijan:"azerbaijan-green",Belarus:"belarus-green",Belgium:"belgium-green",BosniaAndHerzegovina:"bosnia and herzegovina-green",Bulgaria:"bulgaria-green",Croatia:"croatia-green",Cyprus:"cyprus-green",CzechRepublic:"czech republic-green",Denmark:"denmark-green",Estonia:"estonia-green",FaroeIslands:"faroe islands-green",Finland:"finland-green",France:"france-green",Georgia:"georgia-green",Germany:"germany-green",Greece:"greece-green",Hungary:"hungary-green",Iceland:"iceland-green",Iran:"iran-green",Iraq:"iraq-green",Ireland:"ireland-green",Israel:"israel-green",Italy:"italy-green",Jordan:"jordan-green",Kazakhstan:"kazakhstan-green",Kosovo:"kosovo-green",Latvia:"latvia-green",Lebanon:"lebanon-green",Liechtenstein:"liechtenstein-green",Lithuania:"lithuania-green",Luxembourg:"luxembourg-green",Moldova:"moldova-green",Montenegro:"montenegro-green",Morocco:"morocco-green",Netherlands:"netherlands-green",NorthMacedonia:"north macedonia-green",Norway:"norway-green",Palestine:"palestine-green",Poland:"poland-green",Portugal:"portugal-green",Romania:"romania-green",Russia:"russia-green",SaudiArabia:"saudi arabia-green",Serbia:"serbia-green",Slovakia:"slovakia-green",Slovenia:"slovenia-green",Spain:"spain-green",Sweden:"sweden-green",Switzerland:"switzerland-green",Syria:"syria-green",Tunisia:"tunisia-green",Turkey:"turkey-green",Ukraine:"ukraine-green",UnitedKingdom:"united kingdom-green"};var h=i(693),u=i(131),c=i(954),d=i(639),p=(i(408),i(989)),y=i(978),m=i(660);i(280),i(348);var Z=i(241);class g extends s.Z{constructor(e){super(),this.previousRecords=Z.Z.loadPreviousRecords(),this.options=e}update(e){r.XP.Escape&&(r.XP.w=r.XP.s=r.XP.Escape=!1,r.OO.pop(),r.OO.push(new C))}render(){this.options.background.render(),this.drawDarkBackground(),this.options.countries.forEach((e=>e.render()));const e=r.vj-200,t=r.lf-15;r.Do.save(),r.Do.fillStyle="rgb(255, 255, 255, 0.7)",(0,a.b)(r.Do,r.vj/2-e/2,7.5,e,t,25,!0,!1),r.Do.fillStyle=d.Z.Black,r.Do.font="90px Joystix",r.Do.textAlign="center",r.Do.fillText("ðŸŽ‰ PREVIOUS RECORDS ðŸŽ‰",.5*r.vj,.125*r.lf),r.Do.font="80px Joystix";for(let e=0;e<10;e++){const t=this.previousRecords[e].correctCountries??"---",i=this.previousRecords[e].time??"---";r.Do.textAlign="left",r.Do.fillText(`${e+1}.`,.25*r.vj,235+78*e),r.Do.textAlign="center",r.Do.fillText(`${t}/60`,.5*r.vj,235+78*e),r.Do.textAlign="right",r.Do.fillText(`${i}`,.75*r.vj,235+78*e)}r.Do.font="30px Joystix",r.Do.textBaseline="middle",r.Do.textAlign="center",r.Do.fillText("Press Escape to return to the main menu!",.5*r.vj,r.lf-30),r.Do.restore()}drawDarkBackground(){r.Do.fillStyle="rgb(0, 0, 0, 0.3)",r.Do.fillRect(0,0,r.vj,r.lf)}}var f=i(127),x=i(661);class T extends x.Z{static PANEL={x:0,y:0,width:r.vj,height:r.lf/32};constructor(e,t,i,s,n,o={}){super(e,t,i,s,o),this.titleFontSize=o.titleFontSize??x.Z.FONT_SIZE,this.textFontSize=o.textFontSize??x.Z.FONT_SIZE,this.fontColour=o.fontColour??d.Z.Black,this.fontFamily=o.fontFamily??x.Z.FONT_FAMILY,this.isAdvanceable=o.isAdvanceable??!0,this.nextArrowAlpha=1,this.endOfText=!1,this.isClosed=!1,this.title=n[0],this.texts=n,this.pages=this.createPages(n,this.dimensions.x-3*this.padding),this.isAdvanceable&&(this.arrowTimer=this.flashAdvanceableArrow()),this.next()}update(){(r.XP.Enter||r.XP[" "])&&(r.XP.Enter=!1,r.XP[" "]=!1,this.next())}render(){super.render(),r.Do.save(),this.renderTitle(),this.renderText(),this.isAdvanceable&&this.renderNextArrow(),r.Do.restore()}renderTitle(){r.Do.textBaseline="top",r.Do.font=`${this.titleFontSize}px ${this.fontFamily}`,r.Do.fillStyle=this.fontColour,r.Do.fillText(this.title,this.position.x+r.vj/2-r.Do.measureText(this.title).width/2,this.position.y+20+this.padding)}renderText(){r.Do.textBaseline="top",r.Do.font=`${this.textFontSize}px ${this.fontFamily}`,r.Do.fillStyle=this.fontColour,this.pageToDisplay?.forEach(((e,t)=>{r.Do.fillText(e,this.position.x+2*this.padding,this.position.y+t*(this.textFontSize+10)+7*this.padding)}))}renderNextArrow(){r.Do.beginPath(),r.Do.translate(this.position.x+this.dimensions.x-20,this.position.y+this.dimensions.y-15),r.Do.moveTo(0,0),r.Do.lineTo(10,0),r.Do.lineTo(5,5),r.Do.lineTo(0,0),r.Do.globalAlpha=this.nextArrowAlpha,r.Do.fill(),r.Do.closePath()}createPages(e,t){const i=[];e=e.slice(1,e.length);const s=this.getLines(e,t),n=Math.floor((this.dimensions.y-300-this.padding)/this.textFontSize),o=Math.ceil(s.length/n);for(let e=0;e<o;e++){i.push([]);for(let t=0;t<n&&0!==s.length;t++)i[e][t]=s.splice(0,1)}return i}next(){r.jX.play(f.Z.HowToPlaySelect),this.endOfText?(this.toggle(),this.arrowTimer.clear(),this.isClosed=!0):this.nextPage()}nextPage(){this.pageToDisplay=this.pages.splice(0,1)[0],0===this.pages.length&&(this.endOfText=!0)}getLines(e,t){const i=[];return e.forEach((e=>{const s=e.replace(/\t+/g,"").split(" ");let n=s[0];r.Do.font=`${this.textFontSize}px ${this.fontFamily}`;for(let e=1;e<s.length;e++){const o=s[e];r.Do.measureText(n+" "+o).width<t?n+=" "+o:(i.push(n),n=o)}i.push(n)})),i}flashAdvanceableArrow(){return r.HT.addTask((()=>{this.nextArrowAlpha=1===this.nextArrowAlpha?0:1}),.75)}}var S=i(855);const D=["Welcome to Braeden's Country Guesser!","I hope you have fun playing, and learn a thing or two!","For starters, goal of this game is to guess all the countries correctly!","When you press 'Enter' to play the game, you will see a map with countries to guess from.","The map on the right hand side contains all the countries to guess in the game.","On the top left of the screen, you will see a panel containing how many lives you have, the number of hints you have, the number of correctly guessed countries, and a timer.","You lose a life if you get 3 countries wrong in a row, so try your best!","You only have 10 hints throughout the whole game, 1 per round.","The timer is used to indicate how much time it took you to guess the countries. You gain 5 seconds for guessing a country correctly, and lose 5 seconds for guessing a country incorrectly.","You will also see a panel of countries to guess from. Click enter on the selected country when you feel ready enough to guess.","The country colored blue on the map is the country to guess.","Good luck!"];class w extends s.Z{constructor(){super(),this.textbox=new T(T.PANEL.x,T.PANEL.y,T.PANEL.width,T.PANEL.height,D,{isAdvanceable:!0,titleFontSize:60,textFontSize:40})}update(){this.textbox.update(),this.textbox.isClosed&&(r.OO.pop(),r.OO.push(new C))}render(){this.textbox.render()}}class C extends s.Z{constructor(){super(),this.menuOptions=[n.Z.PlayGame,n.Z.PreviousRecords],this.currentMenuOption=o.Z.Selected,this.menuTitleColours=[d.Z.Green,d.Z.Blue,d.Z.Red],this.titleLetters=["C","o","u","n","t","r","y","G","u","e","s","s","e","r"],this.offsetToNewLine=7,this.background=new h.Z(u.Z.EuropeBackground),this.countries=[],this.countriesKeys=Object.values(l),this.originalValue=this.countriesKeys.length,this.addedFilledCountryNames=[]}enter(e){this.transitionAlpha=0,this.autoFillCountry(),this.startColourTimer(),this.howToPlayTextbox=new S.Z((r.vj-125)/32,(r.lf-125)/32,100,3,"H",{isAdvanceable:!1,fontSize:50,shouldCenterText:!0,borderColour:d.Z.Blue}),r.HT.addTask((()=>{r.HT.tween(this.howToPlayTextbox.position,["y"],[this.howToPlayTextbox.position.y-50],.35,(()=>{r.HT.tween(this.howToPlayTextbox.position,["y"],[this.howToPlayTextbox.position.y+50],.35)}))}),7)}update(e){this.inTransition||((r.XP.w||r.XP.s)&&(r.XP.w=r.XP.s=!1,this.currentMenuOption=this.currentMenuOption===o.Z.Selected?o.Z.NotSelected:o.Z.Selected,r.jX.play(f.Z.MenuSelection)),r.XP.Enter&&(r.XP.Enter=!1,this.startTransition()),r.XP.h&&(r.XP.h=!1,r.jX.play(f.Z.HowToPlaySelect),r.OO.pop(),r.OO.push(new w)),this.allCountriesFilled()&&(this.countries=[],this.addedFilledCountryNames=[],this.countriesKeys=Object.values(l),this.originalValue=this.countriesKeys.length,this.autoFillCountriesTimer.clear(),this.autoFillCountry()),r.HT.update(e))}addCountry(e){this.countries.push(new c.Z(e))}allCountriesFilled(){return this.countries.length===this.originalValue}autoFillCountry(){this.autoFillCountriesTimer=r.HT.addTask((()=>{let e=this.countriesKeys[Math.floor(Math.random()*this.countriesKeys.length)];this.addCountry(e),this.countriesKeys.splice(this.countriesKeys.indexOf(e),1),this.addedFilledCountryNames.push(e)}),1)}render(){r.Do.save(),this.background.render(),this.drawDarkBackground(),this.countries.forEach((e=>e.render())),this.drawTitleText(),this.drawMenu(),this.drawTransitionOverlay(),this.howToPlayTextbox?.render(),r.Do.restore()}async startTransition(){this.currentMenuOption===o.Z.Selected?(y.Z.fade((()=>{r.OO.pop(),r.OO.push(new m.Z)})),this.clearTimerTasks()):(this.clearTimerTasks(),r.OO.pop(),r.OO.push(new g({background:this.background,darkBackground:this.drawDarkBackground,countries:this.countries}))),this.inTransition=!0}clearTimerTasks(){this.colourTimer.clear(),this.autoFillCountriesTimer.clear()}drawDarkBackground(){r.Do.fillStyle="rgb(0, 0, 0, 0.3)",r.Do.fillRect(0,0,r.vj,r.lf)}drawTransitionOverlay(){r.Do.fillStyle="rgb(255, 255, 255, 0)",r.Do.fillRect(0,0,r.vj,r.lf)}drawTitleText(){r.Do.fillStyle="rgb(255, 255, 255, 0.7)",(0,a.b)(r.Do,r.vj/2-450,r.lf/4-150,900,325,25,!0,!1),r.Do.font=`125px ${p.Z.Joystix}`,r.Do.textBaseline="middle",r.Do.textAlign="center";let e=0,t=0;for(let i=0;i<this.titleLetters.length;i++)e>=this.menuTitleColours.length&&(e=0),r.Do.fillStyle=this.menuTitleColours[e],t===this.offsetToNewLine&&(t=0),i<this.offsetToNewLine?r.Do.fillText(this.titleLetters[i][0],r.vj/2-225+50+100*t-130,r.lf/2-81.25-200-25):r.Do.fillText(this.titleLetters[i][0],r.vj/2-225+50+100*t-130,r.lf/2-81.25-200+125),e++,t++}drawMenu(){const e={x:r.vj/2,y:r.lf/2+190};r.Do.fillStyle="rgb(255, 255, 255, 0.7)",(0,a.b)(r.Do,e.x-400,e.y-150+75,800,300,25,!0,!1),this.drawMenuOption(this.menuOptions[0],e.x,e.y+30,0),this.drawMenuOption(this.menuOptions[1],e.x,e.y+145,1)}drawMenuOption(e,t,i,s){r.Do.save(),r.Do.font=`65px ${p.Z.Joystix}`,this.drawTextShadow(e,t,i),this.currentMenuOption===s?r.Do.fillStyle=d.Z.Blue:r.Do.fillStyle=d.Z.UnselectedOption,r.Do.fillText(e,t,i),r.Do.restore()}drawTextShadow(e,t,i){r.Do.save(),r.Do.textBaseline="middle",r.Do.textAlign="center",r.Do.fillStyle=d.Z.TextShadow,r.Do.fillText(e,t+2,i+1),r.Do.fillText(e,t+1,i+1),r.Do.fillText(e,t+0,i+1),r.Do.fillText(e,t+1,i+2),r.Do.restore()}startColourTimer(){this.colourTimer=r.HT.addTask((()=>{this.menuTitleColours=this.menuTitleColours.slice(1).concat(this.menuTitleColours.slice(0,1))}),1)}}},978:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(313),n=i(958);class o extends s.Z{static TYPE={In:0,Out:1};constructor(e,t=(()=>{}),i={r:255,g:255,b:255}){super(),this.colour=i,e===o.TYPE.Out?(this.alpha=1,this.endAlpha=0):(this.alpha=0,this.endAlpha=1),n.HT.tween(this,["alpha"],[this.endAlpha],1.5,(()=>{n.OO.pop(),t()}))}render(){n.Do.save(),n.Do.fillStyle=`rgba(${this.colour.r}, ${this.colour.g}, ${this.colour.b}, ${this.alpha})`,n.Do.fillRect(0,0,n.vj,n.lf),n.Do.restore()}static fade(e=(()=>n.OO.pop())){n.OO.push(new o(o.TYPE.In,(()=>{e(),n.OO.push(new o(o.TYPE.Out))})))}}},976:(e,t,i)=>{i.d(t,{Z:()=>y});var s=i(313),n=i(989),o=i(194),r=i(287),a=i(958),l=i(978),h=i(767),u=i(639),c=i(660),d=i(459),p=i(127);class y extends s.Z{constructor(e,t={}){super(),this.playState=e,this.options=t,this.menuOptions=[o.Z.PlayAgain,o.Z.MainMenu],this.currentMenuOption=r.Z.Selected,a.jX.play(p.Z.GameWin),this.titleTextLines=this.getLines(t.titleMessage,a.vj-500),this.messageTextLines=this.getLines(t.messageText??null,a.vj-200)}update(e){this.inTransition||((a.XP.w||a.XP.s)&&(a.XP.w=a.XP.s=!1,this.currentMenuOption=this.currentMenuOption===r.Z.Selected?r.Z.NotSelected:r.Z.Selected,a.jX.play(p.Z.MenuSelection)),a.XP.Enter&&(a.XP.Enter=!1,this.startTransition()),a.HT.update(e))}render(){a.Do.save(),this.drawDarkBackground(),this.drawTitleText(),this.drawMessageText(),this.drawGameInfo(),this.drawMenu(),this.drawTransitionOverlay(),a.Do.restore()}async startTransition(){this.currentMenuOption===r.Z.Selected?l.Z.fade((()=>{a.OO.clear(),a.OO.push(new c.Z)})):l.Z.fade((()=>{a.OO.clear(),a.OO.push(new d.Z)})),this.inTransition=!0}drawDarkBackground(){a.Do.fillStyle="rgb(0, 0, 0, 0.3)",a.Do.fillRect(0,0,a.vj,a.lf)}drawTransitionOverlay(){a.Do.fillStyle="rgb(255, 255, 255, 0)",a.Do.fillRect(0,0,a.vj,a.lf)}getLines(e,t){const i=e.split("\n"),s=[];return i.forEach((e=>{let i=e.replace(/\t+/g,"").split(" "),n=i[0];a.Do.font=`${this.fontSize}px ${this.fontFamily}`;for(let e=1;e<i.length;e++){let o=i[e];a.Do.measureText(n+" "+o).width<t?n+=" "+o:(s.push(n),n=o)}s.push(n)})),s}drawTitleText(){const e=a.vj/2;a.lf,a.Do.font=`90px ${n.Z.Joystix}`,a.Do.textBaseline="top",a.Do.fillStyle=u.Z.White,this.titleTextLines?.forEach(((t,i)=>{a.Do.fillText(t,e-a.Do.measureText(t).width/2,0===i?50:125*i)}))}drawMessageText(){if(null!==this.options.messageText){const e={x:a.vj/2,y:a.lf/2+190};a.Do.font=`50px ${n.Z.Joystix}`,a.Do.textBaseline="middle",a.Do.fillStyle=u.Z.White,this.messageTextLines?.forEach(((t,i)=>{a.Do.fillText(t,e.x-a.Do.measureText(t).width/2,250+50*i)}))}}drawGameInfo(){const e={x:a.vj/2,y:a.lf/2};a.Do.font=`65px ${n.Z.Joystix}`,a.Do.textBaseline="middle",a.Do.fillStyle=u.Z.White;const t=`Time taken: ${this.playState.timer} seconds`,i=`Correct guesses: ${this.playState.map.correctCountries.length}/${this.playState.map.totalCountriesForMap}`;a.Do.fillText(t,e.x-a.Do.measureText(t).width/2,e.y-75),a.Do.fillText(i,e.x-a.Do.measureText(i).width/2,e.y)}drawMenu(){const e=a.vj/2,t=a.lf/2+190;a.Do.fillStyle="rgb(255, 255, 255, 0.7)",(0,h.b)(a.Do,e-400,t-150+75,800,300,25,!0,!1),this.drawMenuOption(this.menuOptions[0],e-a.Do.measureText(this.menuOptions[0]).width/2,t+30,0),this.drawMenuOption(this.menuOptions[1],e-a.Do.measureText(this.menuOptions[1]).width/2,t+145,1)}drawMenuOption(e,t,i,s){a.Do.save(),a.Do.font=`65px ${n.Z.Joystix}`,this.currentMenuOption===s?a.Do.fillStyle=u.Z.Blue:a.Do.fillStyle=u.Z.UnselectedOption,a.Do.fillText(e,t,i),a.Do.restore()}}},676:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(38),n=i(989);class o{static FONT_SIZE=20;static FONT_FAMILY=n.Z.Joystix;static OFFSET=32;constructor(e,t,i,n){this.position=new s.Z(e*o.OFFSET,t*o.OFFSET),this.dimensions=new s.Z(i,n*o.OFFSET)}}},19:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(639),n=i(989),o=i(958),r=i(661),a=i(676),l=i(287);class h extends r.Z{static OPTION={width:380,height:3.25};constructor(e,t,i,n,o,a,l={}){super(e,t,i,n,l),this.position.x=e,this.position.y=t,this.fontSize=l.fontSize??r.Z.FONT_SIZE,this.fontColour=l.fontColour??s.Z.Black,this.fontFamily=l.fontFamily??r.Z.FONT_FAMILY,this.isClosed=!1,this.text=o,this.onSelect=a,this.lines=this.constructLines()}render(){super.render(),o.Do.save(),this.renderTextItems(),o.Do.restore()}renderTextItems(){o.Do.textAlign="center",o.Do.textBaseline="middle",o.Do.font=`${this.fontSize}px ${this.fontFamily}`,o.Do.fillStyle=this.fontColour,this.lines?.forEach(((e,t)=>{o.Do.fillText(e,this.position.x+this.dimensions.x/2,this.lines.length>1?this.position.y-12.5+t*this.fontSize+this.dimensions.y/2:this.position.y+t*this.fontSize+this.dimensions.y/2)}))}constructLines(){return this.getLines(this.text,this.dimensions.x-8*this.padding)}getLines(e,t){const i=e.split("\n"),s=[];return i.forEach((e=>{let i=e.replace(/\t+/g,"").split(" ");i[0]=i[0].charAt(0).toUpperCase()+i[0].slice(1);let n=i[0];o.Do.font=`${this.fontSize}px ${this.fontFamily}`;for(let e=1;e<i.length;e++){let r=i[e];const a=o.Do.measureText(n+" "+r).width;"and"!==r&&(r=r.charAt(0).toUpperCase()+r.slice(1)),a<t?n+=" "+r:(s.push(n),n=r)}s.push(n)})),s}}class u extends a.Z{constructor(e,t,i,s,n){super(e,t,i,s),this.gapHeight=(this.dimensions.y-30)/(n.length+1),this.items=this.initializeItems(n),this.currentSelection=l.Z.Selected,this.font=this.initializeFont(),this.playerSelectedOption=!1}update(){o.XP.w||o.XP.ArrowUp?this.navigateUp():o.XP.s||o.XP.ArrowDown?this.navigateDown():(o.XP.Enter||o.XP[" "])&&this.select()}render(){this.items.forEach(((e,t)=>{this.renderSelectionItem(e,t)}))}renderSelectionItem(e,t){t===this.currentSelection?this.renderOptionText(e,!0):this.renderOptionText(e)}renderOptionText(e,t=!1){o.Do.save(),t&&!this.playerSelectedOption?e.borderColour=s.Z.Blue:this.playerSelectedOption||(e.borderColour=s.Z.Grey),e.render(),o.Do.restore()}renderSelectionArrow(e){o.Do.save(),o.Do.translate(this.position.x+10,e.position.y-5),o.Do.beginPath(),o.Do.moveTo(0,0),o.Do.lineTo(6,5),o.Do.lineTo(0,10),o.Do.closePath(),o.Do.fill(),o.Do.restore()}navigateUp(){o.XP.w=!1,o.XP.ArrowUp=!1,0===this.currentSelection?this.currentSelection=this.items.length-1:this.currentSelection--}navigateDown(){o.XP.s=!1,o.XP.ArrowDown=!1,this.currentSelection===this.items.length-1?this.currentSelection=0:this.currentSelection++}select(){o.XP.Enter=!1,o.XP[" "]=!1,this.playerSelectedOption=!0,this.items[this.currentSelection].onSelect()}initializeItems(e){let t=this.position.y+30;const i=[];return e.forEach(((e,s)=>{const n=t+this.gapHeight;i.push(new h(this.position.x+(this.dimensions.x-h.OPTION.width)/2,n,h.OPTION.width,h.OPTION.height,e.text,e.onSelect,{fontSize:30})),t+=this.gapHeight})),i}initializeFont(){return`45px ${a.Z.FONT_FAMILY}`}}class c extends r.Z{static COUNTRIES_MENU={x:.25,y:8.9,width:450,height:23};constructor(e,t,i,s,n){super(e,t,i,s),this.selection=new u(e,t,i,s,n)}update(){this.selection.update()}render(){super.render(),this.renderMenuTitle(),this.selection.render()}renderMenuTitle(){o.Do.fillStyle=s.Z.Black,o.Do.font=`60px ${n.Z.Joystix}`,o.Do.fillText("Guess",this.selection.position.x+(this.selection.dimensions.x/2-o.Do.measureText("Guess").width/2),this.selection.position.y+100)}}},661:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(676),n=i(639),o=i(767),r=i(958);class a extends s.Z{static BOTTOM_DIALOGUE={x:0,y:8,width:15,height:3};static TOP_DIALOGUE={x:0,y:0,width:r.vj,height:4.5};static POKEMON_STATS={x:9,y:5.8,width:6,height:5.2};static BATTLE_PLAYER={x:8,y:5,width:6.5,height:2.5};static BATTLE_OPPONENT={x:1,y:1,width:6.5,height:2};static BATTLE_EXPERIENCE={x:9,y:7,width:6,height:4};static DEFAULT_PADDING=20;static BORDER_WIDTH=22;constructor(e,t,i,s,o={}){super(e,t,i,s),this.borderColour=o.borderColour??n.Z.Grey,this.panelColour=o.panelColour??n.Z.White,this.padding=o.padding??a.DEFAULT_PADDING,this.isVisible=!0}render(){this.isVisible&&(r.Do.save(),this.renderBackground(),this.renderForeground(),r.Do.restore())}renderBackground(){r.Do.fillStyle=this.borderColour,(0,o.b)(r.Do,this.position.x,this.position.y,this.dimensions.x,this.dimensions.y,a.BORDER_WIDTH,!0,!1)}renderForeground(){r.Do.fillStyle=this.panelColour,(0,o.b)(r.Do,this.position.x+a.BORDER_WIDTH/2,this.position.y+a.BORDER_WIDTH/2,this.dimensions.x-a.BORDER_WIDTH,this.dimensions.y-a.BORDER_WIDTH,a.BORDER_WIDTH,!0,!1)}toggle(){this.isVisible=!this.isVisible}}},855:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(639),n=i(958),o=i(661);class r extends o.Z{static GAME_STATS={x:.25,y:.1,width:450,height:8.6};static GUESS_PANEL={x:-5,y:10,width:800,height:3};static HINTS_PANEL={x:-5,y:2,width:1100,height:4};constructor(e,t,i,n,r,a={}){super(e,t,i,n,a),this.fontSize=a.fontSize??o.Z.FONT_SIZE,this.fontColour=a.fontColour??s.Z.Black,this.fontFamily=a.fontFamily??o.Z.FONT_FAMILY,this.isAdvanceable=a.isAdvanceable??!0,this.shouldCenterText=a.shouldCenterText??!1,this.nextArrowAlpha=1,this.endOfText=!1,this.isClosed=!1,this.pages=this.createPages(r,this.dimensions.x-3*this.padding),this.isAdvanceable&&(this.arrowTimer=this.flashAdvanceableArrow()),this.next()}update(){(n.XP.Enter||n.XP[" "])&&(n.XP.Enter=!1,n.XP[" "]=!1,this.next())}render(){super.render(),n.Do.save(),this.renderText(),this.isAdvanceable&&this.renderNextArrow(),n.Do.restore()}renderText(){n.Do.textBaseline="top",n.Do.font=`${this.fontSize}px ${this.fontFamily}`,n.Do.fillStyle=this.fontColour,this.pageToDisplay?.forEach(((e,t)=>{n.Do.fillText(e,this.shouldCenterText?this.position.x+this.dimensions.x/2-2:this.position.x+this.padding,this.shouldCenterText?this.position.y+t*this.fontSize+7+this.padding:this.position.y+t*this.fontSize+this.padding)}))}renderNextArrow(){n.Do.beginPath(),n.Do.translate(this.position.x+this.dimensions.x-20,this.position.y+this.dimensions.y-15),n.Do.moveTo(0,0),n.Do.lineTo(10,0),n.Do.lineTo(5,5),n.Do.lineTo(0,0),n.Do.globalAlpha=this.nextArrowAlpha,n.Do.fill(),n.Do.closePath()}createPages(e,t){const i=this.getLines(e,t),s=Math.floor((this.dimensions.y-this.padding)/this.fontSize),n=Math.ceil(i.length/s),o=[];for(let e=0;e<n;e++){o.push([]);for(let t=0;t<s&&0!==i.length;t++)o[e][t]=i.splice(0,1)}return o}next(){this.endOfText?(this.toggle(),this.arrowTimer.clear(),this.isClosed=!0):this.nextPage()}nextPage(){this.pageToDisplay=this.pages.splice(0,1)[0],0===this.pages.length&&(this.endOfText=!0)}getLines(e,t){const i=e.split("\n"),s=[];return i.forEach((e=>{const i=e.replace(/\t+/g,"").split(" ");let o=i[0];n.Do.font=`${this.fontSize}px ${this.fontFamily}`;for(let e=1;e<i.length;e++){const r=i[e];n.Do.measureText(o+" "+r).width<t?o+=" "+r:(s.push(o),o=r)}s.push(o)})),s}flashAdvanceableArrow(){return n.HT.addTask((()=>{this.nextArrowAlpha=1===this.nextArrowAlpha?0:1}),.75)}}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=e=>{e&&!e.d&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r.a=(n,o,r)=>{var a;r&&((a=[]).d=1);var l,h,u,c=new Set,d=n.exports,p=new Promise(((e,t)=>{u=t,h=e}));p[t]=d,p[e]=e=>(a&&e(a),c.forEach(e),p.catch((e=>{}))),n.exports=p,o((n=>{var o;l=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var o=[];o.d=0,n.then((e=>{r[t]=e,s(o)}),(e=>{r[i]=e,s(o)}));var r={};return r[e]=e=>e(o),r}}var a={};return a[e]=e=>{},a[t]=n,a})))(n);var r=()=>l.map((e=>{if(e[i])throw e[i];return e[t]})),h=new Promise((t=>{(o=()=>t(r)).r=0;var i=e=>e!==a&&!c.has(e)&&(c.add(e),e&&!e.d&&(o.r++,e.push(o)));l.map((t=>t[e](i)))}));return o.r?h:r()}),(e=>(e?u(p[i]=e):h(d),s(a)))),a&&(a.d=0)},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r(225)})();